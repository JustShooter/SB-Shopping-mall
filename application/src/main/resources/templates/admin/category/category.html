<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="ru">
<head th:replace="/common/head_data :: head">
    <title>Title</title>
</head>
<body class="d-flex flex-column min-vh-100">
<header th:include="/common/header :: content"></header>

<!--Edit category-->

<div class="container px-5 my-5">

    <form class="row g-3 needs-validation" accept-charset="UTF-8" action="#" novalidate
          th:action="${category.getId() == null} ? @{/admin/categories/new} : @{/admin/categories/edit/{id}(id=*{id})}" th:object="${category}" method="post">

            <h1 class="bg-light text-center" th:if="${category.getId() == null}"
                th:text="#{common.menu.administrator.categories.add}">
                Создание новогой категории
            </h1>
            <h1 class="bg-light text-center" th:if="${category.getId() != null}"
                th:text="#{common.menu.administrator.categories.edit} + ' ' + *{name}">
                Редактирование категории
            </h1>
            <div class="form-floating mb-3" th:if="${category.getId() != null}">
                <input class="form-control" name="id" id="id" type="text"
                       placeholder="Идентификационный номер"
                       th:field="*{id}" readonly tabindex="-1"
                       th:classappend="${#fields.hasErrors('id')} ? is-invalid : is-valid"/>
                <label for="id" th:text="#{common.ID}">Идентификационный номер</label>
                <div th:if="${#fields.hasErrors('id')}" class="invalid-feedback bg-info fs-5"
                     th:errors="*{id}">
                </div>
            </div>
            <div class="form-floating mb-3">
                <input class="form-control" name="categoryName" id="categoryName" type="text"
                       placeholder="Наименование категории"
                       required
                       th:field="*{name}"
                       th:classappend="${#fields.hasErrors('name')} ? is-invalid : is-valid"/>
                <label for="categoryName"
                       th:text="#{common.category.name}">Наименование категории</label>
                <div th:if="${#fields.hasErrors('name')}" class="invalid-feedback bg-info fs-5"
                     th:errors="*{name}">
                </div>
            </div>
            <div class="form-floating mb-3">
            <textarea class="form-control" name="description" id="description"
                      placeholder="Описание категории" style="height: 100px"
                      required
                      th:field="*{description}"
                      th:classappend="${#fields.hasErrors('description')} ? is-invalid : is-valid">
            </textarea>
                <label for="description"
                       th:text="#{common.category.description}">Описание категории</label>
                <div th:if="${#fields.hasErrors('description')}" class="invalid-feedback bg-info fs-5"
                     th:errors="*{description}">
                </div>
            </div>
            <div class="d-grid">
                <button class="btn btn-primary btn-lg" type="submit"
                        th:text="#{common.menu.save}">Сохранить
                </button>
                <a class="btn btn-danger btn-lg" type="button" href="#"
                   th:href="@{'/admin/categories'}" th:text="#{common.menu.back}">Назад</a>
            </div>
        </form>
</div>

<footer th:replace="/common/footer :: content"></footer>
</body>
</html>
